#Дана строка, содержащая латинские буквы и скобки трех видов: «()», «[]», «{}». Если
#скобки расставлены правильно (то есть каждой открывающей соответствует
#закрывающая скобка того же вида), то вывести число 0. В противном случае вывести
#или номер позиции, в которой расположена первая ошибочная скобка, или, если
#закрывающих скобок не хватает, число —1.

def check_brackets(s):
    stack = []
    brackets = {')': '(', ']': '[', '}': '{'}

    for index, char in enumerate(s):
        if char in brackets.values():  # Если это открывающая скобка
            stack.append((char, index + 1))
        elif char in brackets.keys():  # Если это закрывающая скобка
            if stack and stack[-1][0] == brackets[char]:  # Проверяем соответствие
                stack.pop()
            else:
                return index + 1  # Возврат позиции первой ошибочной скобки

    if stack:  # Если остались открывающие скобки
        return -1  # Закрывающих скобок не хватает
    return 0  # Скобки расставлены правильно

# Ввод строки
input_string = input("Введите строку: ")
result = check_brackets(input_string)
print(result)